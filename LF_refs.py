import numpy as np
import scipy.integrate

import useful2
import uvudf_utils as utils

M16_LF_pars = {'f275w_drop': {'coeff': [-1.31,-19.66,-2.21],'err':[[-0.755,+0.319],[-1.671,+0.324],[-1.132,+0.177]],'lims':[-21.0,utils.lim_M['f275w_drop']],'fname':'output/mcmc_f275w_drop.dat'},
               'f336w_drop': {'coeff': [-1.32,-20.61,-2.36],'err':[[-0.257,+0.070],[-0.921,+0.115],[-0.458,+0.065]],'lims':[-21.9,utils.lim_M['f336w_drop']],'fname':'output/mcmc_f336w_drop.dat'},
               'f225w_phot': {'coeff': [-1.20,-19.93,-2.12],'err':[[-0.129,+0.100],[-0.404,+0.245],[-0.189,+0.122]],'lims':[-21.5,utils.lim_M['f225w_phot']],'fname':'output/mcmc_f225w_phot.dat'},
               'f275w_phot': {'coeff': [-1.32,-19.92,-2.30],'err':[[-0.143,+0.100],[-0.443,+0.238],[-0.227,+0.117]],'lims':[-21.3,utils.lim_M['f275w_phot']],'fname':'output/mcmc_f275w_phot.dat'},
               'f336w_phot': {'coeff': [-1.39,-20.38,-2.42],'err':[[-0.117,+0.076],[-0.432,+0.187],[-0.206,+0.105]],'lims':[-21.9,utils.lim_M['f336w_phot']],'fname':'output/mcmc_f336w_phot.dat'}}

z2_LF_refs = {'hayes10' :
                {'wave' : 'ha',
                 'coeff': (-1.60,43.07,-3.45),
                 'err'  : ( 0.15, 0.22, 0.52),
                 'agn'  : False},
              'sobral13':
                {'wave' : 'ha',
                 'coeff': (-1.59,42.47,-2.78),
                 'err'  : ( 0.13, 0.08, 0.09),
                 'agn'  : True},
              'mehta16' :
                {'wave' : 'uv',
                 'coeff': (-1.32, -19.92, -2.30),
                 'err'  : ( 0.00,   0.00,  0,00),
                 'fname': 'output/mcmc_f275w_phot.dat'}}

UV_LF_refs = {'arnouts05':
               {'label': "Arnouts+05",           
                'wave' : 1500,
                'm'    : 's',
                's'    : 60,
                'c'    : 'darkgrey',
                'LFs'  :[{'z':0.055,'coeff':(-1.21,-18.05,np.log10(0.00407)),'err':(0.07,0.11,np.log10((0.00407+0.00056)/0.00407))},
                         {'z':0.3,  'coeff':(-1.19,-18.38,np.log10(0.00615)),'err':(0.15,0.25,np.log10((0.00615+0.00176)/0.00615))},
                         {'z':0.5,  'coeff':(-1.55,-19.49,np.log10(0.00169)),'err':(0.21,0.37,np.log10((0.00169+0.00088)/0.00169))},
                         {'z':0.7,  'coeff':(-1.60,-19.84,np.log10(0.00167)),'err':(0.26,0.40,np.log10((0.00167+0.00095)/0.00167))},
                         {'z':1.0,  'coeff':(-1.63,-20.11,np.log10(0.00114)),'err':(0.45,0.45,np.log10((0.00114+0.00076)/0.00114))},
                         {'z':2.0,  'coeff':(-1.49,-20.33,np.log10(0.00265)),'err':(0.24,0.50,np.log10((0.00265+0.00200)/0.00265))},
                         {'z':2.9,  'coeff':(-1.47,-21.08,np.log10(0.00162)),'err':(0.21,0.45,np.log10((0.00162+0.00090)/0.00162))},
                         {'z':3.0,  'coeff':(-1.60,-21.07,np.log10(0.00140)),'err':(0.13,0.15,np.log10((0.00140+0.00001)/0.00140))}]},

                'dahlen07':
               {'label': "Dahlen+07",
                'wave' : 1500,
                'm'    : '^',
                's'    : 60,
                'c'    : 'red',
                'LFs'  :[{'z':1.13, 'coeff':(-1.48,-19.62,np.log10(29.6e-4)),'err':(0.32,0.06,np.log10((29.6e-4+ 1.5e-4)/29.6e-4))},
                         {'z':1.75, 'coeff':(-1.48,-20.24,np.log10(31.1e-4)),'err':(0.32,0.32,np.log10((31.1e-4+16.2e-4)/31.1e-4))},
                         {'z':2.23, 'coeff':(-1.48,-19.87,np.log10(33.2e-4)),'err':(0.32,0.18,np.log10((33.2e-4+9.65e-4)/33.2e-4))}]},
    
               'sawicki06':
               {'label': "Sawicki & Thomson06", 
                'wave' : 1700,
                'm'    : 's',
                's'    : 60,
                'c'    : 'sienna',
                'LFs'  :[{'z':1.7,  'coeff':(-0.81,-19.80,np.log10(0.01698)),'err':(0.21,0.32,np.log10((0.01698+0.00489)/0.01698))},
                         {'z':2.2,  'coeff':(-1.20,-20.60,np.log10(0.00301)),'err':(0.24,0.38,np.log10((0.00301+0.00176)/0.00301))},
                         {'z':3.0,  'coeff':(-1.43,-20.90,np.log10(0.00167)),'err':(0.17,0.22,np.log10((0.00167+0.00013)/0.00167))},
                         {'z':4.0,  'coeff':(-1.26,-21.00,np.log10(0.00085)),'err':(0.40,0.40,np.log10((0.00085+0.00021)/0.00085))}]},
    
               # 'yoshida06':
               # {'label': "Yoshida+06",
               #  'wave' : 1500,
               #  'm'    : '^',
               #  'c'    : 'm',
               #  'LFs'  :[{'z':4.0,  'coeff':(-1.82,-21.14,np.log10(0.00146)),'err':(0.09,0.14,np.log10((0.00146+0.00041)/0.00146))},]},
    
               'bouwens07':
               {'label': "Bouwens+07",
                'wave' : 1600,
                'm'    : '^',
                's'    : 80,
                'c'    : 'sienna',
                'LFs'  :[{'z':3.8,  'coeff':(-1.73,-20.98,np.log10(0.00130)),'err':(0.05,0.10,np.log10((0.00130+0.00020)/0.00130))},]},
    
               'reddy09':
               {'label': "Reddy & Steidel09",
                'wave' : 1700,
                'm'    : 'o',
                's'    : 70,
                'c'    : 'm',
                'LFs'  :[{'z':2.3,  'coeff':(-1.73,-20.70,np.log10(0.00275)),'err':(0.07,0.11,np.log10((0.00275+0.00054)/0.00275))},
                         {'z':3.05, 'coeff':(-1.73,-20.97,np.log10(0.00171)),'err':(0.13,0.14,np.log10((0.00171+0.00053)/0.00171))}]},
    
               'hathi10':
               {'label': "Hathi+10",
                'wave' : 1500,
                'm'    : 's',
                's'    : 60,
                'c'    : 'c',
                'LFs'  :[{'z':1.7,  'coeff':(-1.27,-19.43,np.log10(0.00217)),'err':(0.00,0.36,np.log10((0.00217+0.00077)/0.00217))},
                         {'z':2.1,  'coeff':(-1.17,-20.39,np.log10(0.00157)),'err':(0.40,0.64,np.log10((0.00157+0.00115)/0.00157))},
                         {'z':2.7,  'coeff':(-1.52,-20.94,np.log10(0.00154)),'err':(0.29,0.53,np.log10((0.00154+0.00114)/0.00154))}]},
    
               'oesch10':
               {'label': "Oesch+10",
                'wave' : 1500,
                'm'    : 's',
                's'    : 60,
                'c'    : 'darkorange',
                'LFs'  :[{'z':0.75, 'coeff':(-1.52,-19.17,-2.52),'err':(0.25,0.51,0.31)},
                         {'z':1.25, 'coeff':(-1.84,-20.08,-2.90),'err':(0.15,0.36,0.25)},
                         {'z':1.75, 'coeff':(-1.60,-20.17,-2.63),'err':(0.21,0.34,0.23)},
                         {'z':1.5,  'coeff':(-1.46,-19.82,-2.64),'err':(0.54,0.51,0.33)},
                         {'z':1.9,  'coeff':(-1.60,-20.16,-2.66),'err':(0.51,0.52,0.36)},
                         {'z':2.5,  'coeff':(-1.73,-20.69,-2.49),'err':(0.11,0.17,0.12)}]},

               'cucciati12':
               {'label': "Cucciati+12",
                'wave' : 1500,
                'm'    : 'o',
                's'    : 70,
                'c'    : 'red',
                'LFs'  :[{'z':0.125, 'coeff':(-1.05,-18.12,np.log10(7.00e-3)),'err':(0.04,0.00,np.log10((7.00e-3+0.44e-3)/7.00e-3))},
                         {'z':0.3,   'coeff':(-1.17,-18.30,np.log10(6.91e-3)),'err':(0.05,0.15,np.log10((6.91e-3+1.02e-3)/6.91e-3))},
                         {'z':0.5,   'coeff':(-1.07,-18.40,np.log10(6.60e-3)),'err':(0.07,0.10,np.log10((6.60e-3+0.91e-3)/6.60e-3))},
                         {'z':0.7,   'coeff':(-0.90,-18.30,np.log10(9.53e-3)),'err':(0.08,0.10,np.log10((9.53e-3+0.99e-3)/9.53e-3))},
                         {'z':0.9,   'coeff':(-0.85,-18.70,np.log10(9.01e-3)),'err':(0.10,0.10,np.log10((9.01e-3+0.96e-3)/9.01e-3))},
                         {'z':1.1,   'coeff':(-0.91,-19.00,np.log10(7.43e-3)),'err':(0.16,0.20,np.log10((7.43e-3+1.15e-3)/7.43e-3))},
                         {'z':1.45,  'coeff':(-1.09,-19.60,np.log10(4.10e-3)),'err':(0.23,0.20,np.log10((4.10e-3+0.87e-3)/4.10e-3))},
                         {'z':2.1,   'coeff':(-1.30,-20.40,np.log10(3.37e-3)),'err':(0.00,0.10,np.log10((3.37e-3+0.24e-3)/3.37e-3))},
                         {'z':3.0,   'coeff':(-1.50,-21.40,np.log10(0.86e-3)),'err':(0.00,0.10,np.log10((0.86e-3+0.05e-3)/0.86e-3))},
                         {'z':4.0,   'coeff':(-1.73,-22.20,np.log10(0.11e-3)),'err':(0.00,0.20,np.log10((0.11e-3+0.01e-3)/0.11e-3))}]},
    
               # 'vanderburg10':
               # {'label': "van der Burg+10",
               #  'wave' : 1600,
               #  'm'    : '^',
               #  'c'    : 'g',
               #  'LFs'  :[{'z':3.0,  'coeff':(-1.65,-20.94,np.log10(0.00179)),'err':(0.12,0.14,np.log10((0.00179+0.00051)/0.00179))},
               #           {'z':4.0,  'coeff':(-1.56,-20.84,np.log10(0.00136)),'err':(0.08,0.09,np.log10((0.00136+0.00023)/0.00136))}]},
    
               'sawicki12':
               {'label': "Sawicki12",
                'wave' : 1700,
                'm'    : 'o',
                's'    : 70,
                'c'    : 'y',
                'LFs'  :[{'z':2.2,  'coeff':(-1.47,-21.00,np.log10(0.00274)),'err':(0.24,0.50,np.log10((0.00274+0.00024)/0.00274))},]},
    
               # 'weisz14':
               # {'label': "Weisz+14",
               #  'wave' : 1500,
               #  'm'    : '^',
               #  'c'    : 'y',
               #  'LFs'  :[{'z':2.0,  'coeff':(-1.36,-19.36,np.log10(0.00750)),'err':(0.11,0.28,np.log10((0.00750+0.00400)/0.00750))},
               #           {'z':3.0,  'coeff':(-1.36,-20.45,np.log10(0.00410)),'err':(0.13,0.26,np.log10((0.00410+0.00200)/0.00410))},
               #           {'z':4.0,  'coeff':(-1.58,-20.89,np.log10(0.00182)),'err':(0.08,0.11,np.log10((0.00182+0.00010)/0.00182))}]},
    
               'bouwens15':
               {'label': "Bouwens+15",
                'wave' : 1600,
                'm'    : 'o',
                's'    : 70,
                'c'    : 'darkgrey',
                'LFs'  :[{'z':3.8,  'coeff':(-1.64,-20.88,np.log10(0.00197)), 'err':(0.04,0.08,np.log10((0.00197 +0.00034) /0.00197 ))},
                         {'z':4.9,  'coeff':(-1.76,-21.17,np.log10(0.00074)), 'err':(0.05,0.12,np.log10((0.00074 +0.00018) /0.00074 ))},
                         {'z':5.9,  'coeff':(-1.87,-20.94,np.log10(0.00050)), 'err':(0.10,0.20,np.log10((0.00050 +0.00022) /0.00050 ))},
                         {'z':6.8,  'coeff':(-2.06,-20.87,np.log10(0.00029)), 'err':(0.13,0.26,np.log10((0.00029 +0.00021) /0.00029 ))},
                         {'z':7.9,  'coeff':(-2.02,-20.63,np.log10(0.00021)), 'err':(0.23,0.36,np.log10((0.00021 +0.00023) /0.00021 ))},
                         {'z':10.4, 'coeff':(-2.27,-20.92,np.log10(0.000008)),'err':(0.00,0.00,np.log10((0.000008+0.000004)/0.000008))}]},
    
               'finkelstein15':
               {'label': "Finkelstein+15",
                'wave' : 1500,
                'm'    : '^',
                's'    : 80,
                'c'    : 'darkgrey',
                'LFs'  :[{'z':4.0,  'coeff':(-1.56,-20.73,np.log10(0.00141)),'err':(0.06,0.09,np.log10((0.00141+0.00021)/0.00141))},
                         {'z':5.0,  'coeff':(-1.67,-20.81,np.log10(0.00090)),'err':(0.06,0.13,np.log10((0.00090+0.00015)/0.00090))},
                         {'z':6.0,  'coeff':(-2.02,-21.13,np.log10(0.00019)),'err':(0.10,0.28,np.log10((0.00019+0.00009)/0.00019))},
                         {'z':7.0,  'coeff':(-2.03,-21.03,np.log10(0.00016)),'err':(0.21,0.40,np.log10((0.00016+0.00013)/0.00016))},
                         {'z':8.0,  'coeff':(-2.36,-20.89,np.log10(0.00007)),'err':(0.50,0.08,np.log10((0.00007+0.00019)/0.00007))}]},
    
               'parsa16':
               {'label': "Parsa+16",
                'wave' : 1500,
                'm'    : 'o',
                's'    : 70,
                'c'    : 'limegreen',
                'LFs'  :[{'z':1.7,  'coeff':(-1.33,-19.61,np.log10(0.00681)),'err':(0.03,0.07,np.log10((0.00681+0.00081)/0.00681))},
                         {'z':1.9,  'coeff':(-1.32,-19.68,np.log10(0.00702)),'err':(0.03,0.05,np.log10((0.00702+0.00066)/0.00702))},
                         {'z':2.25, 'coeff':(-1.26,-19.71,np.log10(0.00759)),'err':(0.04,0.07,np.log10((0.00759+0.00088)/0.00759))},
                         {'z':2.8,  'coeff':(-1.31,-20.20,np.log10(0.00532)),'err':(0.04,0.07,np.log10((0.00532+0.00060)/0.00532))},
                         {'z':3.8,  'coeff':(-1.43,-20.71,np.log10(0.00206)),'err':(0.04,0.10,np.log10((0.00206+0.00033)/0.00206))}]},
              
               'alavi16':
               {'label': "Alavi+16",
                'wave' : 1500,
                'm'    : 'o',
                's'    : 70,
                'c'    : 'blue',
                'LFs'  :[{'z':1.3,  'coeff':(-1.56,-19.74,np.log10(2.32e-3)),'err':(0.04,0.18,np.log10((2.32e-3+0.49e-3)/2.32e-3))},
                         {'z':1.9,  'coeff':(-1.72,-20.41,np.log10(1.50e-3)),'err':(0.04,0.20,np.log10((1.50e-3+0.37e-3)/1.50e-3))},
                         {'z':2.6,  'coeff':(-1.94,-20.71,np.log10(0.55e-3)),'err':(0.06,0.11,np.log10((0.55e-3+0.14e-3)/0.55e-3))},
                         {'z':1.65, 'coeff':(-1.50,-19.85,np.log10(2.21e-3)),'err':(0.16,0.41,np.log10((2.21e-3+1.32e-3)/2.21e-3))},
                         {'z':2.0,  'coeff':(-1.80,-20.39,np.log10(1.46e-3)),'err':(0.06,0.31,np.log10((1.46e-3+0.65e-3)/1.46e-3))},
                         {'z':2.7,  'coeff':(-2.01,-20.70,np.log10(0.48e-3)),'err':(0.08,0.00,np.log10((0.48e-3+0.15e-3)/0.48e-3))}]},
    
               'mehta16':
               {'label': "This work",
                'wave' : 1500,
                'm'    : 'o',
                's'    : 150,
                'c'    : 'black',
                'LFs'  :[{'z':1.65, 'coeff':(-1.20,-19.93,-2.12),'err':(0.18,0.60,0.22),'fname':'output/mcmc_f225w_phot.dat'},
                         {'z':2.2,  'coeff':(-1.32,-19.92,-2.30),'err':(0.20,0.58,0.27),'fname':'output/mcmc_f275w_phot.dat'},
                         {'z':2.8,  'coeff':(-1.39,-20.38,-2.42),'err':(0.16,0.47,0.22),'fname':'output/mcmc_f336w_phot.dat'}]}}

if __name__ == '__main__':
    
    print "No main() defined."